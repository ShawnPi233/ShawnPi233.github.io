<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>jsdelivery:Github主页的免费cdn加速方法 | Pi酱的秘密基地</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CDN简介 CDN 全称Content Delivery Network即内容分发网络。 CDN是一组分布在多个不同地方的WEB服务器，可以更加有效的向用户提供资源，会根据距离的远近来选择 。使用户能就近的获取请求数据，解决网络拥堵，提高访问速度，解决由于网络带宽小，用户访问量大，网点分布不均等原因导致的访问速度慢的问题。 CDN请求分发原理 （1）用户向浏览器提供需要访问的域名； （2）浏览器调">
<meta property="og:type" content="article">
<meta property="og:title" content="jsdelivery:Github主页的免费cdn加速方法">
<meta property="og:url" content="http://shawnpi233.github.io/2023/04/24/Github%E4%B8%BB%E9%A1%B5%E7%9A%84%E5%85%8D%E8%B4%B9cdn%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95/index.html">
<meta property="og:site_name" content="Pi酱的秘密基地">
<meta property="og:description" content="CDN简介 CDN 全称Content Delivery Network即内容分发网络。 CDN是一组分布在多个不同地方的WEB服务器，可以更加有效的向用户提供资源，会根据距离的远近来选择 。使用户能就近的获取请求数据，解决网络拥堵，提高访问速度，解决由于网络带宽小，用户访问量大，网点分布不均等原因导致的访问速度慢的问题。 CDN请求分发原理 （1）用户向浏览器提供需要访问的域名； （2）浏览器调">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/1.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/2.png">
<meta property="og:image" content="http://shawnpi233.github.io/2023/04/24/Github%E4%B8%BB%E9%A1%B5%E7%9A%84%E5%85%8D%E8%B4%B9cdn%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95/images/cdn/3.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/4.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/5.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/6.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/7.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/8.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/11.png">
<meta property="og:image" content="http://shawnpi233.github.io/images/cdn/12.png">
<meta property="article:published_time" content="2023-04-23T16:00:00.000Z">
<meta property="article:modified_time" content="2023-04-24T15:34:20.803Z">
<meta property="article:author" content="ShawnPi">
<meta property="article:tag" content="经验分享">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://shawnpi233.github.io/images/cdn/1.png">
  
    <link rel="alternate" href="/atom.xml" title="Pi酱的秘密基地" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Pi酱的秘密基地</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://shawnpi233.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Github主页的免费cdn加速方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/24/Github%E4%B8%BB%E9%A1%B5%E7%9A%84%E5%85%8D%E8%B4%B9cdn%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2023-04-23T16:00:00.000Z" itemprop="datePublished">2023-04-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      jsdelivery:Github主页的免费cdn加速方法
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CDN简介"><strong>CDN简介</strong></h2>
<p>CDN 全称Content Delivery Network即内容分发网络。</p>
<p>CDN是一组分布在多个不同地方的WEB服务器，可以更加有效的向用户提供资源，会根据距离的远近来选择 。使用户能就近的获取请求数据，解决网络拥堵，提高访问速度，解决由于网络带宽小，用户访问量大，网点分布不均等原因导致的访问速度慢的问题。</p>
<h2 id="CDN请求分发原理"><strong>CDN请求分发原理</strong></h2>
<p>（1）用户向浏览器提供需要访问的域名；</p>
<p>（2）浏览器调用域名解析库对域名进行解析，由于CDN对域名解析过程进行了调整，所以解析函数库一般得到的是该域名对应的CNAME记录，为了得到实际的IP地址，浏览器需要再次对获得的CNAME域名进行解析以得到实际的IP地址；在此过程中，使用的全局负载均衡DNS解析。如根据地理位置信息解析对应的IP地址，使得用户能就近访问；</p>
<p>（3）此次解析得到CDN缓存服务器的IP地址，浏览器在得到实际的ip地址之后，向缓存服务器发出访问请求；</p>
<p>（4）缓存服务器根据浏览器提供的要访问的域名，通过Cache内部专用DNS解析得到此域名的实际IP地址，再由缓存服务器向此实际IP地址提交访问请求；</p>
<p>（5）缓存服务器从实际IP地址得到内容以后，一方面在本地进行保存，以备以后使用，二方面把获取的数据放回给客户端，完成数据服务过程；</p>
<p>（6）客户端得到由缓存服务器返回的数据以后显示出来并完成整个浏览的数据请求过程。</p>
<h2 id="jsDelivr简介"><strong>jsDelivr简介</strong></h2>
<p>是一个免费、快速和可信赖的CDN加速服务，声称它每个月可以支撑680亿次的请求。服务在Github上是开源的。目前，它提供了针对npm、Github和WordPress的加速服务，只需要一行代码就可以获得加速效果。只要我们的项目中用到了第三方的静态资源，譬如JavaScript脚本，css样式表，图片，图标，Flash等静态资源文件都应该考虑接入到CDN中</p>
<h2 id="jsDelivr-Github-实现流程"><strong>jsDelivr + Github 实现流程</strong></h2>
<ol>
<li>
<p>新建Github仓库，可以命名为“mycdn”，用于存放我们所要的静态资源（图片、音频、CSS等）</p>
<p><img src="/images/cdn/1.png" alt="1"></p>
</li>
<li>
<p>使用git clone 命令将仓库克隆到本地</p>
<p><img src="/images/cdn/2.png" alt="2"></p>
</li>
</ol>
<p>这里，我们在博客资源文件夹的上一级目录下进行git bash here, 并输入指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/你的github用户名/mycdn.git</span><br></pre></td></tr></table></figure>
<p><img src="images/cdn/3.png" alt="3"></p>
<ol start="3">
<li>
<p>将所需资源复制到创建好的mycdn文件夹中，并使用git push上传到github仓库中，这里我将博客的源文件source整个拖入，这样可以减少后面修改文件路径</p>
<p><img src="/images/cdn/4.png" alt="4"></p>
</li>
</ol>
<p><img src="/images/cdn/5.png" alt="5"></p>
<ol start="4">
<li>检查本地仓库上传成功后，点击&quot;Create a new release&quot;，进行项目发布</li>
</ol>
<p><img src="/images/cdn/6.png" alt="6"></p>
<p>​	发布时应该是这样的：</p>
<p><img src="/images/cdn/7.png" alt="7"></p>
<p>​	发布成功后是这样的：</p>
<p><img src="/images/cdn/8.png" alt="8"></p>
<p>这样一来，我们的本地资源就已经可以通过cdn分发了，也就是说我们可以通过url的形式访问这些资源，这样一来就可以避免直接从GitHub服务器访问，大大加快资源加载速度。</p>
<ol start="5">
<li>
<p>通过jsDelivr引用资源。例如我们可以在hexo主页直接加入cdn中的音频</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio</span><br><span class="line">   controls</span><br><span class="line">   preload=<span class="string">&quot;auto&quot;</span></span><br><span class="line">   src = <span class="string">&#x27;https://cdn.jsdelivr.net/gh/你的用户名/mycdn/source/audios/1.mp3&#x27;</span>&gt;</span><br><span class="line">&lt;/audio&gt;</span><br></pre></td></tr></table></figure>
<p>对比一下使用本地的方式：</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio</span><br><span class="line">   controls</span><br><span class="line">   preload=<span class="string">&quot;auto&quot;</span></span><br><span class="line">   src = <span class="string">&#x27;/source/audios/1.mp3&#x27;</span>&gt;</span><br><span class="line">&lt;/audio&gt;</span><br></pre></td></tr></table></figure>
<p>相比之下，改动很小，只需要在src前加一个前缀，即可做到无痛加速。</p>
<p>另外，我们还可以指定release的版本来加载文件，例如在用户名后加“@版本号”，即可访问改版本的数据。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/gh/你的用户名@1.0/mycdn/source/audios/1.mp3</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>
<p>最后只要重新使用hexo指令发布博客即可实现免费加速</p>
<h2 id="jsDelivr-CDN国内污染问题及解决办法">jsDelivr  CDN国内污染问题及解决办法</h2>
</li>
</ol>
<p><strong>问题：</strong> 但是通过实践发现，上述设置无法在国内正常加载，原因是<code>Jsdelivr</code>国内的CDN服务被DNS污染了，被指向了<code>Google</code>、<code>Twitter</code>和 <code>Facebook</code> 的 IP 地址，导致使用CDN服务加速的链接访问失败。</p>
<p><strong>解决方法：</strong> 使用其他未被污染的地址进行替换，即把cdn.jsdelivr.net替换为下列的之一</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fastly.jsdelivr.net</span><br><span class="line">gcore.jsdelivr.net</span><br><span class="line">testingcf.jsdelivr.net</span><br><span class="line">test1.jsdelivr.net</span><br></pre></td></tr></table></figure>
<p>经过测试，国内大多数地区前两个也无法正常运行，而<strong><a target="_blank" rel="noopener" href="http://testingcf.jsdelivr.net">testingcf.jsdelivr.net</a></strong> 兼容性较好，我目前也在使用这个地址。</p>
<p>这里给一个<strong>可以测试网址在各地访问速度的神奇网站</strong> <a target="_blank" rel="noopener" href="http://17ce.com/">http://17ce.com/</a></p>
<p>然后下面是我使用testingcf.jsdelivr.net加速后的资源访问时间和速度的结果:</p>
<p><img src="/images/cdn/11.png" alt="11"></p>
<p><img src="/images/cdn/12.png" alt="12"></p>
<p>可以看到，网速还是很给力的，相比github原先个位数kB/s的速度已经是质的飞跃了，用于博客的音视频和图片的传输压力不大。</p>
<p>参考文章</p>
<p>【1】<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/346643522">如何使用jsDelivr+Github 实现免费CDN加速</a></p>
<p>【2】 <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45260582/article/details/129272400?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-129272400-blog-124820135.235%5Ev31%5Epc_relevant_default_base3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-129272400-blog-124820135.235%5Ev31%5Epc_relevant_default_base3&amp;utm_relevant_index=5">jsDelivr的CDN加速被污染-CSDN博客</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://shawnpi233.github.io/2023/04/24/Github%E4%B8%BB%E9%A1%B5%E7%9A%84%E5%85%8D%E8%B4%B9cdn%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95/" data-id="clteoy8tc0008xwe43lpu9th9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" rel="tag">经验分享</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/07/28/%E5%9F%BA%E4%BA%8EHexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%B8%BB%E8%A7%82%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F%E4%BB%8E%E9%9B%B6%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2023/04/22/leancloud_test/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" rel="tag">Android 经验分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Quartus/" rel="tag">Quartus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E4%BB%8B%E7%BB%8D/" rel="tag">个人介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%84%9F%E6%82%9F/" rel="tag">感悟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" rel="tag">深度学习基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" rel="tag">经验分享</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android-%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" style="font-size: 10px;">Android 经验分享</a> <a href="/tags/Quartus/" style="font-size: 10px;">Quartus</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E4%BB%8B%E7%BB%8D/" style="font-size: 10px;">个人介绍</a> <a href="/tags/%E6%84%9F%E6%82%9F/" style="font-size: 10px;">感悟</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">深度学习</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">深度学习基础</a> <a href="/tags/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" style="font-size: 20px;">经验分享</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1985/10/">十月 1985</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/06/svc_test/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/07/28/%E5%9F%BA%E4%BA%8EHexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%B8%BB%E8%A7%82%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F%E4%BB%8E%E9%9B%B6%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/04/24/Github%E4%B8%BB%E9%A1%B5%E7%9A%84%E5%85%8D%E8%B4%B9cdn%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95/">jsdelivery:Github主页的免费cdn加速方法</a>
          </li>
        
          <li>
            <a href="/2023/04/22/leancloud_test/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/04/22/Live%20Server/">Live Server：本地HTML代码预览插件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 ShawnPi<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>